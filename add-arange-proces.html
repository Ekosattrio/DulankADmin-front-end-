<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta name="description" content="POS - Bootstrap Admin Template">
    <meta name="keywords"
        content="admin, estimates, bootstrap, business, corporate, creative, invoice, html5, responsive, Projects">
    <meta name="author" content="Dreamguys - Bootstrap Admin Template">
    <meta name="robots" content="noindex, nofollow">
    <title>Dreams Pos Admin Template</title>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- animation CSS -->
    <link rel="stylesheet" href="assets/css/animate.css">

    <!-- Select2 CSS -->
    <link rel="stylesheet" href="assets/plugins/select2/css/select2.min.css">

    <!-- Datetimepicker CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-datetimepicker.min.css">

    <!-- Mobile CSS-->
    <link rel="stylesheet" href="assets/plugins/intltelinput/css/intlTelInput.css">
    <link rel="stylesheet" href="assets/plugins/intltelinput/css/demo.css">

    <!-- Datatable CSS -->
    <link rel="stylesheet" href="assets/css/dataTables.bootstrap5.min.css">

    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .process-list {
            max-width: 900px;
            margin: 0 auto;
        }

        .process-category {
            /* display: flex; */
            gap: 24px;
            margin-bottom: 28px;
            align-items: flex-start;
        }

        .process-number {
            width: 110px;
            font-weight: 700;
            color: #333;
            font-size: 1rem;
        }

        .process-body {
            margin-left: 20px;
            flex: 1;
            border-bottom: 1px solid #eee;
            padding-bottom: 12px;
        }

        .process-title {
            font-weight: 600;
            margin-bottom: 8px;
        }

        .process-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 8px 0;
        }

        .process-item .label {
            color: #999;
            width: 90px;
            font-size: 0.9rem;
        }

        .process-item .name {
            flex: 1;
            color: #333;
        }

        .process-item .actions a {
            color: #00a5e5;
            margin-left: 12px;
            text-decoration: none;
            font-size: 0.9rem;
        }

        .process-item .actions a.remove {
            color: #ff4d4f;
            margin-right: 8px;
        }

        @media (max-width: 576px) {
            .process-category {
                flex-direction: column;
            }

            .process-number {
                width: auto;
                margin-bottom: 8px;
            }
        }
    </style>

</head>

<body>
    <div id="global-loader">
        <div class="loader"> </div>
    </div>
    <!-- Main Wrapper -->
    <div class="main-wrapper">

        <!-- header -->
        <div id="header-placeholder"></div>
        <!-- sidebar -->
        <div id="sidebar-placeholder"></div>

        <div class="page-wrapper mt-3">
            <!-- Main content tulis disini -->
            <div class="content">
                <div class="page-header">
                    <div class="add-item d-flex">
                        <div class="page-title">
                            <h4>Add Arange Process</h4>
                            <h6>Manage your product with default arrange process</h6>
                        </div>
                    </div>
                </div>



                <!-- ...existing code... -->
                <!-- ...existing code... -->
                <div class="row">
                    <!-- Left Column -->
                    <div>
                        <div class="row align-items-center">
                            <label class="col-lg-2 col-form-label">Product Category</label>
                            <div class="col-lg-9">
                                <p class="fw-bold">Offset</p>
                            </div>
                        </div>

                        <div class="row mb-5 align-items-center">
                            <label class="col-lg-2 col-form-label">Product</label>
                            <div class="col-lg-9">
                                <p class="fw-bold">NCR 3 Rangkap</p>
                            </div>
                        </div>


                    </div>

                    <div class="d-flex">
                        <span style="width:220px">Process Category</span>
                        <span>Process Name</span>
                    </div>


                    <!-- Category block: Design -->
                    <div class="col-12 mb-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="fw-bold my-2">1. Design</span>
                            <button class="btn text-primary add-process-btn">Add Process</button>
                        </div>
                        <div class="process-list mt-2" data-category-id="1">
                            <!-- existing process item -->
                            <div class="process-item d-flex align-items-start py-2" data-id="1">
                                <div class="me-3" style="width:110px">#Process 1</div>
                                <div class="flex-grow-1 d-flex align-items-start justify-content-between">
                                    <div class="fw-bold ms-1 me-5">Design</div>
                                    <div>
                                        <button class="btn p-0 text-danger remove-process">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Category block: Development -->
                    <div class="col-12 mb-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="fw-bold my-2">2. Pracetak</span>
                            <button class="btn text-primary add-process-btn">Add Process</button>
                        </div>
                        <div class="process-list mt-2" data-category-id="2">
                            <!-- existing process item -->
                            <div class="process-item d-flex align-items-start py-2" data-id="1">
                                <div class="me-3" style="width:110px">#Process 1</div>
                                <div class="flex-grow-1 d-flex align-items-start justify-content-between">
                                    <div class="fw-bold ms-1 me-5">Flat CTP</div>
                                    <div>
                                        <button class="btn p-0 text-danger remove-process">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Category block: Testing -->
                    <div class="col-12 mb-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="fw-bold my-2">3. Cetak</span>
                            <button class="btn text-primary add-process-btn">Add Process</button>
                        </div>
                        <div class="process-list mt-2" data-category-id="3">
                            <!-- existing process item -->
                            <div class="process-item d-flex align-items-start py-2" data-id="1">
                                <div class="me-3" style="width:110px">#Process 1</div>
                                <div class="flex-grow-1 d-flex align-items-start justify-content-between">
                                    <div class="fw-bold ms-1 me-5">Multilith</div>
                                    <div>
                                        <button class="btn p-0 text-danger remove-process">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Category block: Deployment -->
                    <div class="col-12 mb-3">
                        <div class="d-flex align-items-center justify-content-between">
                            <span class="fw-bold my-2">4. Finishing</span>
                            <button class="btn text-primary add-process-btn">Add Process</button>
                        </div>
                        <div class="process-list mt-2" data-category-id="4">
                            <!-- existing process item -->
                            <div class="process-item d-flex align-items-start py-2" data-id="1">
                                <div class="me-3" style="width:110px">#Process 1</div>
                                <div class="flex-grow-1 d-flex align-items-start justify-content-between">
                                    <div class="fw-bold ms-1 me-5">Numerator</div>
                                    <div>
                                        <button class="btn p-0 text-danger remove-process">Remove</button>
                                    </div>
                                </div>
                            </div>
                            <div class="process-item d-flex align-items-start py-2" data-id="1">
                                <div class="me-3" style="width:110px">#Process 2</div>
                                <div class="flex-grow-1 d-flex align-items-start justify-content-between">
                                    <div class="fw-bold ms-1 me-5">Susun</div>
                                    <div>
                                        <button class="btn p-0 text-danger remove-process">Remove</button>
                                    </div>
                                </div>
                            </div>
                            <div class="process-item d-flex align-items-start py-2" data-id="1">
                                <div class="me-3" style="width:110px">#Process 3</div>
                                <div class="flex-grow-1 d-flex align-items-start justify-content-between">
                                    <div class="fw-bold ms-1 me-5">Potong</div>
                                    <div>
                                        <button class="btn p-0 text-danger remove-process">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <!-- ...existing code... -->
                <!-- ...existing code... -->

                <!-- /product list -->
            </div>
        </div>

    </div>
    <!-- /Main Wrapper -->

    <!-- Modal for edit -->


    <!-- jQuery -->
    <script src="assets/js/jquery-3.7.1.min.js"></script>

    <!-- Feather Icon JS -->
    <script src="assets/js/feather.min.js"></script>

    <!-- Slimscroll JS -->
    <script src="assets/js/jquery.slimscroll.min.js"></script>

    <!-- Datatable JS -->
    <script src="assets/js/jquery.dataTables.min.js"></script>
    <script src="assets/js/dataTables.bootstrap5.min.js"></script>

    <!-- Bootstrap Core JS -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>

    <!-- Datetimepicker JS -->
    <script src="assets/js/moment.min.js"></script>
    <script src="assets/js/bootstrap-datetimepicker.min.js"></script>

    <!-- Mobile Input -->
    <script src="assets/plugins/intltelinput/js/intlTelInput.js"></script>

    <!-- Select2 JS -->
    <script src="assets/plugins/select2/js/select2.min.js"></script>

    <!-- Sweetalert 2 -->
    <script src="assets/plugins/sweetalert/sweetalert2.all.min.js"></script>
    <script src="assets/plugins/sweetalert/sweetalerts.min.js"></script>

    <!-- Separator -->
    <script src="assets/js/easy-number-separator.js"></script>

    <!-- Live Search -->
    <script src="assets/js/liveSearch.js"></script>

    <script>
        function updateProcessNumbers($list) {
            var number = 1;
            $list.find('.process-item').each(function () {
                $(this).find('.me-3').text('#Process ' + number);
                number++;
            });
        }
        // Tambah input ketika tombol "Add Process" diklik
        $(document).on('click', '.add-process-btn', function () {
            var $btn = $(this);
            var $category = $btn.closest('.col-12');
            var $list = $category.find('.process-list').first();

            // Jika sudah ada input terbuka, jangan buat lagi
            if ($list.find('.process-input-row').length) return;

            var inputRow = $('<div class="process-input-row d-flex align-items-center py-2">' +
                '<div style="width:110px">#</div>' +
                '<div class="flex-grow-1 d-flex align-items-center">' +
                '<input type="text" class="form-control form-control-sm me-2 process-name-input" placeholder="Enter process name">' +
                '<button class="btn btn-sm btn-primary save-add me-2">Save</button>' +
                '<button class="btn btn-sm btn-secondary cancel-add">Cancel</button>' +
                '</div>' +
                '</div>');

            $list.append(inputRow);
            inputRow.find('.process-name-input').focus();
        });

        // Cancel menutup input
        $(document).on('click', '.cancel-add', function () {
            $(this).closest('.process-input-row').remove();
        });

        // Save menambah process baru ke list
        $(document).on('click', '.save-add', function () {
            var $row = $(this).closest('.process-input-row');
            var $list = $row.closest('.process-list');
            var name = $row.find('.process-name-input').val().trim();
            if (!name) {
                if (window.Swal) {
                    Swal.fire({ icon: 'warning', text: 'Please enter a process name.' });
                } else {
                    alert('Please enter a process name.');
                }
                return;
            }

            var nextProcessNum = $list.find('.process-item').length + 1;
            var id = Date.now();

            var newItem = $(
                '<div class="process-item d-flex align-items-start py-2" data-id="' + id + '">' +
                '<div class="me-3" style="width:110px">#Process ' + nextProcessNum + '</div>' +
                '<div class="flex-grow-1 d-flex align-items-start justify-content-between">' +
                '<div class="fw-bold ms-1 me-5"></div>' +
                '<div><button class="btn p-0 text-danger remove-process">Remove</button></div>' +
                '</div>' +
                '</div>'
            );
            newItem.find('.fw-bold').text(name);
            $row.before(newItem);
            $row.remove();
        });

        // Remove menghapus process yang diklik
        $(document).on('click', '.remove-process', function () {
            var $item = $(this).closest('.process-item');
            var $list = $item.closest('.process-list');

            if (window.Swal) {
                Swal.fire({
                    title: 'Remove process?',
                    text: 'This will delete the selected process.',
                    icon: 'warning',
                    showCancelButton: true,
                    confirmButtonText: 'Yes, remove',
                    cancelButtonText: 'Cancel'
                }).then(function (result) {
                    if (result.isConfirmed) {
                        $item.remove();
                        updateProcessNumbers($list); // Update nomor setelah menghapus
                    }
                });
            } else {
                if (confirm('Remove process?')) {
                    $item.remove();
                    updateProcessNumbers($list); // Update nomor setelah menghapus
                }
            }
        });
    </script>

    <!-- Custom JS -->
    <script src="assets/js/theme-script.js"></script>
    <script src="assets/js/script.js"></script>

    <!-- CDN SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>

</html>