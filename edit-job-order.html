<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta name="description" content="POS - Bootstrap Admin Template">
    <meta name="keywords"
        content="admin, estimates, bootstrap, business, corporate, creative, invoice, html5, responsive, Projects">
    <meta name="author" content="Dreamguys - Bootstrap Admin Template">
    <meta name="robots" content="noindex, nofollow">
    <title>Dreams Pos Admin Template</title>

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">

    <!-- animation CSS -->
    <link rel="stylesheet" href="assets/css/animate.css">

    <!-- Select2 CSS -->
    <link rel="stylesheet" href="assets/plugins/select2/css/select2.min.css">

    <!-- Datetimepicker CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-datetimepicker.min.css">

    <!-- Mobile CSS-->
    <link rel="stylesheet" href="assets/plugins/intltelinput/css/intlTelInput.css">
    <link rel="stylesheet" href="assets/plugins/intltelinput/css/demo.css">

    <!-- Datatable CSS -->
    <link rel="stylesheet" href="assets/css/dataTables.bootstrap5.min.css">

    <!-- Fontawesome CSS -->
    <link rel="stylesheet" href="assets/plugins/fontawesome/css/fontawesome.min.css">
    <link rel="stylesheet" href="assets/plugins/fontawesome/css/all.min.css">

    <!-- Main CSS -->
    <link rel="stylesheet" href="assets/css/style.css">


</head>

<body>
    <div id="global-loader">
        <div class="loader"> </div>
    </div>
    <!-- Main Wrapper -->
    <div class="main-wrapper">

        <!-- header -->
        <div id="header-placeholder"></div>
        <!-- sidebar -->
        <div id="sidebar-placeholder"></div>

        <div class="page-wrapper mt-3">
            <!-- Main content tulis disini -->
            <div class="content">
                <div class="page-header">
                    <div class="add-item d-flex">
                        <div class="page-title">
                            <h4>Job Order List</h4>
                            <h6>Manage your Job Order</h6>
                        </div>
                    </div>
                    <ul class="table-top-head">
                        <li>
                            <a data-bs-toggle="tooltip" data-bs-placement="top" title="Pdf"><img
                                    src="assets/img/icons/pdf.svg" alt="img"></a>
                        </li>
                        <li>
                            <a data-bs-toggle="tooltip" data-bs-placement="top" title="Excel"><img
                                    src="assets/img/icons/excel.svg" alt="img"></a>
                        </li>
                        <li>
                            <a data-bs-toggle="tooltip" data-bs-placement="top" title="Print"><i data-feather="printer"
                                    class="feather-rotate-ccw"></i></a>
                        </li>
                        <li>
                            <a data-bs-toggle="tooltip" data-bs-placement="top" title="Refresh"><i
                                    data-feather="rotate-ccw" class="feather-rotate-ccw"></i></a>
                        </li>
                        <li>
                            <a data-bs-toggle="tooltip" data-bs-placement="top" title="Collapse" id="collapse-header"><i
                                    data-feather="chevron-up" class="feather-chevron-up"></i></a>
                        </li>
                    </ul>
                </div>
               
               <div class="row">
						<div class="col-md-12">
							<div class="card">
								
								<div class="card-body">
    <form action="#">
        <div class="row">
            <div class="col-xl-6">
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">No Job</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="JOB-2510000001">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Job Order Date</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="15/09/2025">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Due Date</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="15/10/2025 - 5 Days Remain">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Customers</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="PT Makmur Abadi">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Product</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="Brosur A5">
                    </div>
                </div>
              </div>
              <div class="col-xl-6">
              <div class="row mb-3">
                  <label class="col-lg-3 col-form-label">Job Title</label>
                  <div class="col-lg-9">
                      <input type="text" class="form-control" disabled value="Brosur Penawaran Bisnis">
                  </div>
              </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Material</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="Art Paper 150 gsm">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Size</label>
                    <div class="col-lg-9">
                        <input type="text" class="form-control" disabled value="A5 (297x210mm)">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Qty</label>
                    <div class="col-lg-9">
                        <input type="number" class="form-control" disabled value="5000">
                    </div>
                </div>
                <div class="row mb-3">
                    <label class="col-lg-3 col-form-label">Priority</label>
                    <div class="col-lg-9">
                        <select class="form-control">
                            <option>High</option>
                            <option>Medium</option>
                            <option>Low</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Process Category Section -->
<div class="row mt-4">
  <div class="col-12">
    <h5 class="fw-bold mb-3">Process Category</h5>
  </div>

  <!-- ===== 1. Design ===== -->
  <div class="col-12 mb-4">
    <div class="card p-3 rounded-4">
      <h6 class="fw-semibold mb-3">1. Design</h6>

      <!-- Process Item -->
      <div class="row g-2 align-items-center mb-2">
        <div class="col-md-3 col-12">
          <span class="fw-medium">Artwork</span>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control" placeholder="Add Process Description" value="">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
          <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
        </div>
      </div>

      <a href="#" class="text-primary small">+ Add Process</a>
    </div>
  </div>

  <!-- ===== 2. Pracetak ===== -->
  <div class="col-12 mb-4">
    <div class="card p-3 rounded-4">
      <h6 class="fw-semibold mb-3">2. Pracetak</h6>

      <div class="row g-2 align-items-center mb-2">
        <div class="col-md-3 col-12">
          <span class="fw-medium">Plat CTP</span>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control" placeholder="Add Process Description" value="">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
          <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
        </div>
      </div>

      <a href="#" class="text-primary small">+ Add Process</a>
    </div>
  </div>

  <!-- ===== 3. Cetak ===== -->
  <div class="col-12 mb-4">
    <div class="card p-3 rounded-4">
      <h6 class="fw-semibold mb-3">3. Cetak</h6>

      <div class="row g-2 align-items-center mb-2">
        <div class="col-md-3 col-12">
          <span class="fw-medium">Cetak SM52</span>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control" placeholder="Add Process Description" value="">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
          <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
        </div>
      </div>

      <a href="#" class="text-primary small">+ Add Process</a>
    </div>
  </div>

  <!-- ===== 4. Finishing ===== -->
  <div class="col-12 mb-4">
    <div class="card p-3 rounded-4">
      <h6 class="fw-semibold mb-3">4. Finishing</h6>

      <!-- Process Item 1 -->
      <div class="row g-2 align-items-center mb-2">
        <div class="col-md-3 col-12">
          <span class="fw-medium">Potong</span>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control" placeholder="Add Process Description" value="">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
          <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
        </div>
      </div>

      <!-- Process Item 2 -->
      <div class="row g-2 align-items-center mb-2">
        <div class="col-md-3 col-12">
          <span class="fw-medium">Sortir</span>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control" placeholder="Add Process Description" value="">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
          <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
        </div>
      </div>

      <!-- Process Item 3 -->
      <div class="row g-2 align-items-center mb-2">
        <div class="col-md-3 col-12">
          <span class="fw-medium">Packing</span>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control" placeholder="Add Process Description" value="">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
          <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
        </div>
      </div>

      <a href="#" class="text-primary small">+ Add Process</a>
    </div>
  </div>
</div>



        <div class="text-end">
           <button 
  type="button" 
  class="btn btn-outline-primary" 
  onclick="window.location.href='joborder.html'">
  Batal
</button>

<button 
  type="submit" 
  class="btn btn-primary">
  Submit
</button>

        </div>
    </form>
</div>

							</div>
						</div>
					</div>
                <!-- /product list -->
            </div>
        </div>

    </div>
    <!-- /Main Wrapper -->

    <!-- Modal for edit -->
   

    <!-- jQuery -->
    <script src="assets/js/jquery-3.7.1.min.js"></script>

    <!-- Feather Icon JS -->
    <script src="assets/js/feather.min.js"></script>

    <!-- Slimscroll JS -->
    <script src="assets/js/jquery.slimscroll.min.js"></script>

    <!-- Datatable JS -->
    <script src="assets/js/jquery.dataTables.min.js"></script>
    <script src="assets/js/dataTables.bootstrap5.min.js"></script>

    <!-- Bootstrap Core JS -->
    <script src="assets/js/bootstrap.bundle.min.js"></script>

    <!-- Datetimepicker JS -->
    <script src="assets/js/moment.min.js"></script>
    <script src="assets/js/bootstrap-datetimepicker.min.js"></script>

    <!-- Mobile Input -->
    <script src="assets/plugins/intltelinput/js/intlTelInput.js"></script>

    <!-- Select2 JS -->
    <script src="assets/plugins/select2/js/select2.min.js"></script>

    <!-- Sweetalert 2 -->
    <script src="assets/plugins/sweetalert/sweetalert2.all.min.js"></script>
    <script src="assets/plugins/sweetalert/sweetalerts.min.js"></script>

    <!-- Separator -->
    <script src="assets/js/easy-number-separator.js"></script>

    <!-- Live Search -->
    <script src="assets/js/liveSearch.js"></script>

    <!-- Custom JS -->
    <script src="assets/js/theme-script.js"></script>
    <script src="assets/js/script.js"></script>

   <!-- CDN SweetAlert2 -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const cards = document.querySelectorAll(".card");

  cards.forEach((card) => {
    const addBtn = card.querySelector("a.text-primary");
    const processContainer = card;

    // ========== TAMBAH PROSES ==========
    addBtn.addEventListener("click", function (e) {
      e.preventDefault();

      const existingInput = card.querySelector(".new-process");
      if (existingInput) {
        Swal.fire({
          icon: "warning",
          title: "Tunggu Dulu!",
          text: "Selesaikan proses yang sedang ditambahkan dulu sebelum menambah baru.",
          confirmButtonColor: "#3085d6",
        });
        return;
      }

      const newProcess = document.createElement("div");
      newProcess.classList.add("row", "g-2", "align-items-center", "mb-2", "new-process", "fade-in");
      newProcess.innerHTML = `
        <div class="col-md-3 col-12">
                        <select class="form-control">
                            <option>Artwork</option>
                            <option>Design</option>
                        </select>
        </div>
        <div class="col-md-6 col-9">
          <input type="text" class="form-control process-desc" placeholder="Deskripsi Proses">
        </div>
        <div class="col-md-3 col-3 text-md-start text-end">
          <a href="#" class="text-success small me-2 save-process text-nowrap">Selesai</a>
          <a href="#" class="text-danger small cancel-process text-nowrap">Batal</a>
        </div>
      `;

      processContainer.insertBefore(newProcess, addBtn);

      // Tombol simpan proses baru
      const saveBtn = newProcess.querySelector(".save-process");
      saveBtn.addEventListener("click", function (e) {
        e.preventDefault();
        const processName = newProcess.querySelector(".process-name").value.trim() || "Tanpa Nama";
        const processDesc = newProcess.querySelector(".process-desc").value.trim();

        newProcess.classList.remove("new-process");
        newProcess.innerHTML = `
          <div class="col-md-3 col-12">
            <span class="fw-medium">${processName}</span>
          </div>
          <div class="col-md-6 col-9">
            <input type="text" class="form-control" placeholder="Add Process Description" value="${processDesc}">
          </div>
          <div class="col-md-3 col-3 text-md-start text-end">
            <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
            <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
          </div>
        `;
        attachEditAndRemove(newProcess);

        Swal.fire({
          icon: "success",
          title: "Proses Ditambahkan!",
          showConfirmButton: false,
          timer: 1200,
        });
      });

      // Tombol batal tambah
      const cancelBtn = newProcess.querySelector(".cancel-process");
      cancelBtn.addEventListener("click", function (e) {
        e.preventDefault();
        newProcess.remove();
      });
    });

    // ========== FUNGSI EDIT & REMOVE ==========
    const attachEditAndRemove = (row) => {
      const removeBtn = row.querySelector(".remove-process");
      const editBtn = row.querySelector(".edit-process");

      // Hapus proses
      removeBtn.addEventListener("click", function (e) {
        e.preventDefault();
        Swal.fire({
          title: "Yakin hapus proses ini?",
          text: "Data ini akan dihapus secara permanen!",
          icon: "warning",
          showCancelButton: true,
          confirmButtonColor: "#d33",
          cancelButtonColor: "#6c757d",
          confirmButtonText: "Ya, hapus!",
          cancelButtonText: "Batal",
        }).then((result) => {
          if (result.isConfirmed) {
            row.remove();
            Swal.fire({
              icon: "success",
              title: "Dihapus!",
              text: "Proses berhasil dihapus.",
              showConfirmButton: false,
              timer: 1200,
            });
          }
        });
      });

      // Ubah proses
      editBtn.addEventListener("click", function (e) {
        e.preventDefault();
        const nameEl = row.querySelector("span.fw-medium");
        const descInput = row.querySelector("input.form-control");

        const currentName = nameEl.textContent.trim();
        const currentDesc = descInput.value.trim();

        row.innerHTML = `
          <div class="col-md-3 col-12">
            <input type="text" class="form-control fw-medium process-name" value="${currentName}">
          </div>
          <div class="col-md-6 col-9">
            <input type="text" class="form-control process-desc" value="${currentDesc}">
          </div>
          <div class="col-md-3 col-3 text-md-start text-end">
            <a href="#" class="text-success small me-2 save-edit text-nowrap">Simpan</a>
            <a href="#" class="text-danger small cancel-edit text-nowrap">Batal</a>
          </div>
        `;

        const saveEditBtn = row.querySelector(".save-edit");
        const cancelEditBtn = row.querySelector(".cancel-edit");

        // Simpan perubahan
        saveEditBtn.addEventListener("click", function (e) {
          e.preventDefault();
          const newName = row.querySelector(".process-name").value.trim() || "Tanpa Nama";
          const newDesc = row.querySelector(".process-desc").value.trim();

          row.innerHTML = `
            <div class="col-md-3 col-12">
              <span class="fw-medium">${newName}</span>
            </div>
            <div class="col-md-6 col-9">
              <input type="text" class="form-control" placeholder="Add Process Description" value="${newDesc}">
            </div>
            <div class="col-md-3 col-3 text-md-start text-end">
              <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
              <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
            </div>
          `;
          attachEditAndRemove(row);

          Swal.fire({
            icon: "success",
            title: "Berhasil Diubah!",
            showConfirmButton: false,
            timer: 1200,
          });
        });

        // Batal edit
        cancelEditBtn.addEventListener("click", function (e) {
          e.preventDefault();
          row.innerHTML = `
            <div class="col-md-3 col-12">
              <span class="fw-medium">${currentName}</span>
            </div>
            <div class="col-md-6 col-9">
              <input type="text" class="form-control" placeholder="Add Process Description" value="${currentDesc}">
            </div>
            <div class="col-md-3 col-3 text-md-start text-end">
              <a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>
              <a href="#" class="text-danger small text-nowrap remove-process">Remove</a>
            </div>
          `;
          attachEditAndRemove(row);
        });
      });
    };

    // Inisialisasi tombol edit/remove awal
    const initialRows = card.querySelectorAll(".row.g-2");
    initialRows.forEach((row) => {
      const actionCol = row.querySelector(".col-md-3.text-md-start");
      if (actionCol && !actionCol.querySelector(".edit-process")) {
        actionCol.insertAdjacentHTML("afterbegin", `<a href="#" class="text-success small me-2 text-nowrap edit-process">Ubah</a>`);
      }
      attachEditAndRemove(row);
    });
  });
});
</script>



</body>

</html>